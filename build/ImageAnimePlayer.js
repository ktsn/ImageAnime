// Generated by CoffeeScript 1.7.1
var ImageAnimePlayer,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

ImageAnimePlayer = (function() {
  ImageAnimePlayer.prototype.el = null;

  ImageAnimePlayer.prototype.monitor = null;

  ImageAnimePlayer.prototype.prev_monitor = null;

  ImageAnimePlayer.prototype.next_monitor = null;

  ImageAnimePlayer.prototype.anime_backend = null;

  function ImageAnimePlayer(el, image_urls, times) {
    this.el = el;
    this.imageChange = __bind(this.imageChange, this);
    this.monitor = document.createElement("img");
    this.monitor.style.height = this.monitor.style.width = "100%";
    this.prev_monitor = this.monitor.cloneNode(false);
    this.next_monitor = this.monitor.cloneNode(false);
    this.prev_monitor.style.display = this.next_monitor.style.display = "none";
    this.el.appendChild(this.prev_monitor);
    this.el.appendChild(this.monitor);
    this.el.appendChild(this.next_monitor);
    this.anime_backend = new ImageAnime(image_urls, times);
    this.anime_backend.onChangeFrame = this.imageChange;
    this.jumpFrame(0);
  }

  ImageAnimePlayer.prototype.play = function() {
    return this.anime_backend.play();
  };

  ImageAnimePlayer.prototype.pause = function() {
    return this.anime_backend.pause();
  };

  ImageAnimePlayer.prototype.stop = function() {
    return this.anime_backend.stop();
  };

  ImageAnimePlayer.prototype.jumpFrame = function(index) {
    return this.anime_backend.jumpFrame(index);
  };

  ImageAnimePlayer.prototype.imageChange = function(images, current) {
    this.monitor.src = images[current];
    if (current > 0) {
      this.prev_monitor.src = images[current - 1];
    }
    if (current < images.length - 1) {
      return this.next_monitor.src = images[current + 1];
    }
  };

  return ImageAnimePlayer;

})();
